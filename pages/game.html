<!DOCTYPE html>
<html>
    <head>
        <title>WELCOME TO DJCC</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="game.css">
    </head>
    <body>
        <div id="crest"><h1>THIS IS DJCC GAME - </h1></div>
        <img src="funny-man-watermelon-helmet-googles-260nw-157354478.webp" width="100" height="100"/>
        <ul id="list"></ul>
    </body>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        const list = document.getElementById("list");
        //const ws = new WebSocket('ws://localhost:3000/socket');
        
        let name = ""
        while (name == "" || !name) {
            name = prompt('Enter name');
            console.log(name)
        }

        socket.emit("newUser", name);

        socket.on("userJoined", (obj) => {
            const lister = document.createElement("li");
            lister.textContent = obj.name + " | " + obj.points + " points."; 
            console.log(obj.name)

            list.appendChild(lister);
        })
    </script>
</html>